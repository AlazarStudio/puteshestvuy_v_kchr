# Как запустить проект

## 1. Бэкенд (puteshestvuy_v_kchr_back)

### Установка и база данных

```bash
cd puteshestvuy_v_kchr_back
npm install
```

Убедитесь, что в корне бэкенда есть файл **`.env`** с переменными:

```env
NODE_ENV=development
PORT=5000
DATABASE_URL="mongodb://localhost:27017/puteshestvuy"
JWT_SECRET=ваш-секретный-ключ-для-jwt
```

(Замените строку подключения MongoDB на свою, если база не локальная.)

### Prisma (схема и клиент)

После изменений в схеме или при первом запуске:

```bash
npx prisma generate
npx prisma db push
```

### Запуск бэкенда

```bash
npm run dev
```

Сервер API будет доступен по адресу **http://localhost:5000**.

---

## 2. Фронтенд (puteshestvuy_v_kchr)

### Установка

```bash
cd puteshestvuy_v_kchr
npm install
```

### Переменные окружения (по желанию)

В корне фронтенда можно создать **`.env`** или **`.env.local`** (скопируйте из `.env.example`):

```env
VITE_API_URL=http://localhost:5000/api
VITE_YANDEX_MAPS_API_KEY=   # опционально, для карт
```

Если не задано, по умолчанию используется `http://localhost:5000/api`.

### Запуск фронтенда

```bash
npm run dev
```

Сайт откроется по адресу **http://localhost:3000**.

Админка: **http://localhost:3000/admin** (нужен пользователь с ролью SUPERADMIN).

---

## Порядок запуска

1. Запустить **бэкенд** (`cd puteshestvuy_v_kchr_back` → `npm run dev`).
2. Запустить **фронтенд** (`cd puteshestvuy_v_kchr` → `npm run dev`).
3. Открыть в браузере: сайт — http://localhost:3000, админка — http://localhost:3000/admin.

Если меняли схему Prisma, перед запуском бэкенда выполните в папке бэкенда:

```bash
npx prisma generate
npx prisma db push
```
